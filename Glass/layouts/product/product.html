<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Products</title>
  <link rel="stylesheet" href="../../css/background_black.css">

  <style>
    #products{
      display: grid;
      width: 40em;
      grid-template-columns: repeat(3, 30%);
      justify-content: center;
      gap: 10px 10px;
      margin: auto;
    }
    .buttons{
      margin-top: 2em;
      text-align: center;
    }
    fieldset img{
      width: 100%;
      height: 600px;
      object-fit: contain;
    }
    p{
      text-align: center;
    }
    .detail{
      color: black;
    }
    .detail:hover{
      color: blue;
    }
    fieldset{
      height: 28em;
    }
  </style>
</head>
<body>
  <div id="menu">
    <div id="logo">
      <img src="../../images/logo.png" alt="">
      <h1 id="title" style="padding-left: 1em;">유리하는 시간 glass_time_studio</h1>
    </div>
    <ul>
      <li><a href="../../index.html">홈으로</a></li>
      <li><a href="../../layouts/announcement/event_announcement.html">이벤트/공지사항</a></li>
      <li><a href="../../layouts/class/class.html">클래스</a></li>
      <li><a href="../../layouts/product/product.html">제품 구매하기</a></li>
      <li><a href="../../layouts/review/review.html">수강생 후기</a></li>
    </ul>
  </div>
  <div id="products">
    <fieldset>
      <img src="../../images/glass_sunflower.jpg" alt="">
      <p>제품명 : <span id="s_product_title">해바라기 화병 세트</span></p>
      <p>가격 : <span id="s_product_price">210,000원</span></p>
      <p>재고 : <span id="s_product_quantity">5</span></p>
      <div class="buttons">
        <button><a class="detail" href="../product/product_detail.html">상세보기</a></button>
        <button><a class="detail"  target="_blank" href="https://smartstore.naver.com/glasstime/products/9846789288">구매하기</a></button>
      </div>
    </fieldset>
  </div>



  <script>
    // API 요청을 통해 제품 데이터를 조회
    fetch('YOUR_API_ENDPOINT') // YOUR_API_ENDPOINT를 실제 제품 데이터를 조회할 수 있는 서버의 API 엔드포인트로 변경
        .then(response => response.json()) // 응답을 JSON 형식으로 파싱합니다.
        .then(data => {
            // 응답받은 제품 데이터를 표시할 div 태그를 할당.
            const productsContainer = document.getElementById('products');

            // 파싱받은 데이터를 토대로 <fieldset>와 <p> 생성.
            data.forEach(product => {
                const fieldset = document.createElement('fieldset');
                fieldset.innerHTML = `
                    <img src="${product.s_product_img1}" alt="${product.s_product_title}">
                    <p>제품명: ${product.s_product_title}</p>
                    <p>가격: ${product.s_product_price}</p>
                    <p>재고: ${product.s_product_quantity}</p>
                    <div class="buttons">
                    <button><a class="detail" href="../product/product_detail.html?s_product_id=${product.s_product_id}">상세보기</a></button>
                    <button><a target="_blank" href="https://smartstore.naver.com/glasstime/products/${product.s_product_code}">구매하기</a></button>
                    </div>
                `;
                productsContainer.appendChild(fieldset);
            });
        })
        .catch(error => console.error('Error:', error));
  </script>
</body>
</html>